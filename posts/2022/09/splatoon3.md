---
title: スプラトゥーン3をプログラマ視点で語る
publish_date: 2022-09-25
description: スプラトゥーン3が発売されて二週間あまりが経ちましたが、今後どうなっていくのか、プログラマとしての視点から解説しようと思います
tags:
  - スプラトゥーン
  - プログラミング
---

## スプラトゥーンはアーリーアクセス版である

自分のツイッターをフォローしている方ならぼくが何度も「スプラトゥーン 3 はアーリーアクセス版である」と言っているのですが、そもそもアーリーアクセス版とは何なのか、何故スプラトゥーンはアーリーアクセス版なのかを解説します。

### アーリーアクセス版

アーリーアクセス版というのはゲームがある程度遊べる状態になった未完成の段階での製品のことです。

なんで未完成のものをリリースするのかと言えば、例えば何らかのレベルデザインをする際に製品版にしてからユーザーの意見をきいて変更するよりも「だいたいこんなゲームなんだけど、難易度はどうすべきだろうか」みたいな形でリリースしておいて、ユーザーの意見やフィードバックをきいてから実装するほうが二度手間にならずに楽だからです。

つまり、アーリーアクセス版とは言葉を変えただけのパブリックベータ版であり、ベータ版というと如何にも未完成という感じがするのでアーリーアクセス、という言葉に変えているわけですね。この辺は中古商品を Used(使用済み)ではなく Open box(開封済み)に置き換えるのと似たような感じがしています。要は、完全に言葉の問題です。

## スプラトゥーン 3 は何故未完成なのか

はっきり言います。これはイカ研究所上層部、あるいは任天堂からの発売日に対する厳格なノルマが原因です。

つまり、スプラトゥーン 3 は任天堂にとっての目玉商品、ビッグタイトルであるが故に発売日の延期が認められず、結果として未完成のまま、意図せずアーリーアクセス版のような形になってしまったというのがエンジニア視点からの見解です。

何故発売日の延期が認められなかったのかについてはいろいろ思うところがありますが、確実なところはわかりません。

第一、スプラトゥーン 3 は 2022 年夏に発売の予定だったはずです、9 月 9 日が夏と言われても正直ちょっと違和感があります。

### アーリーアクセス版の根拠

発売するにあたって修正すべき点は主に以下の三つです。

- バグ
- エラー
- UI/UX

#### バグ

サーモンランだとオオモノシャケが壁の中に埋まっちゃったり、突然ステージの中に潜り込んだりとかそういうのです。

意図した挙動ではないが、ゲームが進行不可能になるようなものではないものを本記事ではバグとして扱います。

言うまでもなく、スプラトゥーン 3 はバグまみれです。その殆どが容易に再現するので、イカ研は認知しているが修正する時間がなかったと考えられます。つまり、開発時間が全く足りていません。故にアーリーアクセス版です。

#### エラー

本記事ではエラーとは意図しない挙動でゲームが進行不可能になるようなバグを指します。

ゲームが進行不可能というのはフリーズしたり、ゲームがクラッシュしたりするものを意味します。本来、バグは少しはあってもいいがエラーは極力少なくするというのが製品版における大原則です。ですが、スプラトゥーン 3 はシーンを変更するだけで再現率ほぼ 100%のクラッシュする手順が見つかっています。

エラーを残したまま販売するということは考えられないので、この手順はイカ研が見つけられなかった可能性があります。が、手順は複雑ではなく単にシーンを切り替えるだけのものです。見つかれば修正されるべきエラーが何故残ったままなのか、答えは簡単でデバッグを誰もしていないからです。

つまり、デバッグの時間が全く足りていません。故にアーリーアクセス版です。

#### UI/UX

バグではないが、ユーザーの使い勝手が悪い機能がここに該当します。

例えば、サーモンランでプライベートバイトをするときに「フレンドとプライベートバイト」と「ソロでプライベートバイト」の違いが全くわかりません。何が違うのほんとにこれ。

あと、キャンセル、決定の操作が長押しなのもめんどくさいです。長押しなのはそのキーの他の操作と被るからだと思うのですが、正直めんどくさいです。

せっかくなのでここも簡単に文句を言います。プライベートバイトでバイトが終わるとホストは「つづける」か「やめる」が選択肢としてでてくるのですが、失敗した場合デフォルトがやめるになっています。

プライベートバイトの魅力の一つは失敗すれば同じバイトが繰り返せることなのに、なんでデフォルトが「やめる」なのかがわかりません。あと、数秒放置すると自動的にデフォルトが選択されます。スプラトゥーン 2 ではホストがいつまでも選択しないとソフトを終了しない限りゲスト側は抜け出せなかったのでそれはまあいいと思うのですが、猶予が短すぎます。あと、ホントデフォルトがやめるなのをやめろ。

ゲスト側も問題ありで、ホストがリトライを選ばなかった場合には「部屋に参加する」か「抜ける」かの選択が可能なのですが、戻される画面から L を一回押さないとその画面にいけません。

部屋に参加する場合は A 長押しでいけるのですが、そもそも長押しさせるのはめんどくさいですし、抜ける場合には恐らく L が必須になります。このデザイン考えた人、間違いなくエアプです。

いや、別にデザイン作った人がエアプでも、テストした人が「この仕様はちょっと」っていうはずです。つまりテストされていません。故にアーリーアクセス版です。

![](https://pbs.twimg.com/media/FcIdDaragAAHxfa?format=jpg&name=large)

この辺の UI もマジでやばい、故にはアーリーアクセス版です。

### 何故発売が延期できなかったのか

ここは完全に妄想です。根拠もなにもないので、そういう考えもあるか程度に思っていてください。

#### ビッグタイトルは定期的に発売されなければいけない

任天堂にとっての主な収益はニンテンドースイッチ本体、及び周辺機器が売れることです。ゲームがいくら売れてもそれはゲーム会社が儲かるのであって、任天堂のメインの収益ではありません。

ビッグタイトルが発売されるということは、そのタイトルを遊びたいユーザーにニンテンドースイッチ本体を買わせるという購買機会になります。スプラトゥーンやゼルダ、マリオといったビッグタイトルに外装がカスタマイズされたニンテンドースイッチが記念発売されるのには恐らくそういう理由があります。

そして、半年(調べてないけど多分そう)に一回行われる株主総会では今期はこれくらいゲームと本体が売れました、と株主にアピールする必要があります。ここでもし販売台数が減ってしまうと任天堂の株式が下降トレンドだと思われてしまうわけですね。

で、最初は別にそこまで発売日に対して厳格ではなかったのではないかと思います。

ところが、2022 年 3 月にイカ研究所にとってとんでもないニュースが飛び込んできます。

ゼルダの伝説ブレスオブ ザ ワイルド続編の 2023 年春への発売延期です。言うまでもなく、ゼルダの伝説は任天堂にとってのビッグタイトルであり、これが延期するということはビッグタイトルを定期的に販売するというスタイルをとっている以上、スプラトゥーン 3 は延期できないことになります。春というのがいつを指すのかがわからないのですが、仮に三〜四月、半年に一回というサイクルと考えると九月〜十月までにはビッグタイトルが一本は欲しいことになります。

夏、と銘打っていたのに販売が九月になったのは「開発が遅れていて本当は延期したかったけどギリギリ発売した」というこの辺が影響しているのではないかと予想できるわけです。

#### 新型スイッチが発売されるのではないかという噂

もう一つは新型のスイッチが発売されるのではないかという噂が原因です。

バッテリーの改善など、小さなアップデートは繰り返していますが基本的な性能はほぼ五年前の販売当時から変わっていません。その間ソニーが PS4 から次世代の PS5 を販売したことを考えると、いくら任天堂が画質などにこだわらないと言っても「4K 対応、120Hz 対応版のアップグレード版」のニンテンドースイッチを販売するのではないかというのは当然皆考えるわけです。

で、次世代スイッチが販売されると当然メイン商品はそちらになり、旧スイッチは売れにくくなります。正直、有機 EL 版は五年間何もアップデートされてないよねという株主からのツッコミを避けるために渋々販売したのではないかという考えがぼくにはあります。

ニンテンドースイッチは基本的にテレビと繋いで遊ぶことを前提としているので、ディスプレイがいくら綺麗に、大画面になっても、ほとんどのユーザーには関係ないわけです。つまり、本来有機 EL 版としてリリースされるべきだったのはニンテンドースイッチライトであるはずだったのです。

ところが、ニンテンドースイッチライトはあくまでもサブ機であり、メインコンテンツではないわけですね。半導体不足などもあり新型スイッチの開発が進まなかったが、新しいハードはリリースしなければいけない、そしてそれは可能であればスイッチライトではなくスイッチであるべきだった。

そういうところから有機 EL 版が発売されたのかなと思ってしまうわけです。

話が逸れましたが、任天堂は有機 EL 版のニンテンドースイッチを販売しました。有機 EL 版は販売が 2021 年 10 月 8 日です。もしこのタイミングで新世代のスイッチを発表してしまうと有機 EL 版はたった一年足らずで新機種がでてしまうことになります。すると、当たり前ですが誰も買わなくなります。

より性能を求めるなら新機種を、そうでないなら有機 EL 版でない普通のスイッチを買えばいいからです。ですが、新機種を発表しないわけにはいきません。有機 EL 版が新機種との橋渡しであることは察している人は察していますし、アップグレード版を求めるユーザーの声が少なからずあるからです。

そこでスプラトゥーンとのコラボ版を発売して有機 EL 版を売ろうとしているのではないか、と思ってしまうわけです。

## アーリーアクセス版の根拠

というわけで、ニンテンドースイッチ本体の販売ノルマや、ロードマップ、ゼルダの販売延期からスプラトゥーンは延期することが許されず、開発に十分な時間が割けなかったのではないかと考えられるわけです。

が、ゲームの仕組み等に詳しい方ならちょっと「ん？」と思うところがあるかも知れません。

何故ならスプラトゥーン 3 は同じスイッチベースのスプラトゥーン 2 の後継ソフトなので 2 のときの開発環境がそのまま利用でき、例えばモデルデータを追加するだけで新キャラや新ステージに対応できるので、開発が遅れる理由にならないのではないか、と。

ここについてもいろいろ解説します。正直、スプラトゥーン 3 がスプラトゥーン 2 の路線からの思い切った進路変更を取らなければ、問題なく販売できた可能性は十分あります。

技術者トップか上層部か、誰かはわかりませんが「この新機能を使えばもっとゲームが良くなるはずだ」という恐らく悪意のない純粋なゲームをより良くしようという試みが空振った結果とも言えるでしょう。

### サーバーシステムの変更

スプラトゥーン 2 ではマッチメイキングにあたって NEX と呼ばれるシステムが使われていました。これはニンテンドー 3DS/Wii U の自体から使われていた、いわばネットワーク関連における秘伝のタレのようなものです。古いシステムである以上、見つかったバグはほとんど修正されて安定していますが、スプラトゥーンのような低遅延、高品質、そしてセキュアな通信を行う場合には機能が不足していることもありました。

そこで、スプラトゥーン 3 ではこれまでの NEX のシステムを切り捨てて最近バージョンが 1.0.0 になったばかりの新しいサーバーシステム NPLN を採用することにしました。ここで重要なのは NPLN を採用しているオンライン特化のゲームはスプラトゥーンが初めてで、他に NPLN を採用したゲームはモンスターハンターライズとポケモンレジェンドだけで、どちらもプレイヤー同士のオンライン対戦を重視したゲームではありません。

で、これが最も大きな失敗であったと考えられます。

NPLN が悪いのか、それの扱い方が悪かったのかどうかはわかりませんが、NPLN を採用したばかりにスプラトゥーン 3 はラグまみれのまともにオンライン対戦ができないゲームになってしまいました。

### システムの変更

スプラトゥーン 3 はスプラトゥーン 2 とは全く異なるファイル構成になっています。

各ファイルもかなり内容が変わっているのですが、システム構成が変わってしまったためにエンジニアが対応する時間が十分なかった可能性があります。

これらの理由から、そもそも開発が遅れてしまったのではないかと予想できます。特に、新しいサーバーシステムである NPLN への対応は非常に手間がかかったと推察されます。

## 今後の展望

さて、スプラトゥーンが今後のアップデートでどうなっていくかをエンジニア目線で予想してみます。

### オンラインマッチメイキング

しばらくの間は直らない可能性が非常に高いです。

システムの根幹の変更というのはそのくらい大きな変更だということです。恐らく、現在ラグの原因が NPLN のそもそもの仕様なのか、ゲーム側の問題なのか、サーバーの問題なのかの原因究明をしている最中だと思われます。

この特定にどれだけ急いでもまず一ヶ月は要すると思います。で、原因がわかったとします。それがゲーム側の問題だった場合、修正してなんとかなるかも知れません。

が、NPLN の仕様で改善不可能だった場合どうするのかという問題があります。先述したように、NPLN を使ったオンラインマッチメイキングが主体となるゲームは一つもありません。低遅延を重視しているゲームも一つもありません。NPLN を使うという選択をした以上はマッチメイキングはより良くなるというはずだったのですが、なんでこんな事になっているのかわかりません。

そしてそもそも仕様だった場合改善のしようがありません。こうなった場合、サーバーシステムを NEX に戻すしかないでしょう。

これに一体どれだけの時間がかかるのか、想像したくもありません。

スプラトゥーン 3 におけるラグなどの問題が直近のアップデートで改善されることは 99%ありません。

### サーモンラン NW の問題

サーモンランにおける問題は以下のとおりです。

- オブジェクトがオブジェクトを貫通する系のバグ
  - モデルデータの仕様を変えたことが原因かと思います
  - 前作には壁判定として KCL と呼ばれるファイルがあったのですが、恐らく今作では使われていません
  - 旧作と同じ仕様にしておけばこんな問題は起きなかったので、完全に仕様変更が原因です
- パラメーターの未調整
  - これについては後述します
- 通信関連
  - NEX を NPLN に変えたことによる問題です

#### オブジェクト関連のバグ

正直、ここまで酷い作品になるとは思っていませんでした。むしろ、あそこまで完成していた作品を五年かけてこんなゲームにできてしまうのかと驚いています。

ゲーム性はさておき、五年かけて完成した仕様を全部変えたためにありとあらゆるところがバグまみれになりました。

コードの修正で X というバグがでないようにすることはできるかと思いますが、それは場当たり的な対応でしかなく、そのようなバグ修正は根本的な解決になりませんし、必ず別のバグ Y を生みます。オブジェクト関連のバグに関して言えば正直、どうやって直せばいいのか皆目検討も付きません。KCL を利用する旧システムに戻すくらいしか思いつきません。

現行のシステムを使い続ける限り、すぐに直ることはないでしょう。

で、このバグが頻発している以上、任天堂がローンチ前にこのバグを認識していたことは間違いありません。が、ゲーム全体が進行不能になるわけではありませんし、ゲームがクラッシュするわけでもありません。わかっていたけど優先度が低いので放置された類のバグです。

しかしながら、エンジニア目線で優先度は低くてもユーザーから見れば何だこれと思うのは間違いないです。だってこの種類のバグはスプラトゥーン 2 ではほとんど発生しなかったからです。スプラトゥーン 2 でヘビが変なところから降りてきたり、ステージ内部に侵入してしまったりしていたのは当たり判定である KCL を恐らく自動生成したときに僅かな隙間が発生していたためで、それを手動で直してしまえばそれで良かったわけです。

が、今作ではどうも KCL が使われていないためどうやってオブジェクトの接触判定をしているのかがわかりません、いや、ほんとこれどうするんでしょう。

#### パラメーターの未調整

スプラトゥーン 2 ではカタパッドの下のジェットとサーモンランにおけるジェットパックのジェットは全く同一のファイルを参照していました。

なので、迂闊にファイルを変更してジェットパックのジェットのダメージや範囲を上げたりするとカタパッドが出現した瞬間にプレイヤーがデスします。なんで共通のファイルを利用しているのか、意味がわからないのですが、まあそこはいいです。

で、恐らくスプラトゥーン 3 でも同様のファイルの再利用は行われていて、マルチミサイルとカタパッドのマルチミサイルのパラメータは同じものを使用しています。よって、マルチミサイルの追尾性能が上がるという強化を受けたため、カタパッドも同様に強化されました。

サーモンランのキャラクターがエリアを塗るだったり、チャージャーで狙うだったり、ボムを投げるだったりバンカラマッチに必要な動きを練習するための場であるとするなら、同じパラメーターを使うのもわからなくはないのですが、急に強くなっていて「なんでなん？」感はあります。

#### イベントごとの差異

これも何度でも言いますが、明らかにテストプレイが足りていません。特に、高難易度でのテストプレイが全く足りていません。

旧作から夜イベントは二つ増えて全部で八つになりました。それらをまとめると以下の感じ。なお、個人の主観が多分に含まれています。

|     イベント     | クリア期待 |   主な失敗理由    |
| :--------------: | :--------: | :---------------: |
|       なし       |     中     |         -         |
|    グリル発進    |     中     |     納品不足      |
|        霧        |     中     |     ゼンメツ      |
|  キンシャケ探し  |  ほぼ確実  |     納品不足      |
|   ハコビヤ襲来   |    確実    |     納品不足      |
| ドスコイ大量発生 |     大     |     ゼンメツ      |
|  ドロシャケ噴出  |     大     |     納品不足      |
|     ラッシュ     |     小     | ゼンメツ/納品不足 |
|   巨大タツマキ   |    確実    |     納品不足      |

ゲームデザイン的にどうなんだというツッコミはさておき、いくらなんでもイベントごとの格差が大きすぎます。

発生確率はどれも 3.125%ですが、ハコビヤ襲来と巨大タツマキが体感勝率 95%以上なのに対して、ラッシュが難しすぎます。誤解のないように言うとラッシュが難しすぎるのは悪いことではないです、だって前作よりも最高難易度を 133%もアップした高難易度版が NW なのですから。

にもかかわらず巨大タツマキとハコビヤ襲来は相変わらず簡単なままです。いや、ハコビヤ襲来がレベルデザイン変更が間に合わず据え置きになったのはまだいいとして、新しく追加した巨大タツマキが簡単すぎて勝ち確定なのはどうなの？という気がします。

イクラ投げとイカロールを練習させたかったのだと思いますが、慣れてくると時間の無駄でしかありません。正直、クリア確定なので WAVE 開始直後にそのままクリア表示出してほしいです、100 秒という時間がもったいないので。正直、巨大タツマキが修正されるまではぼくがオンラインでサーモンランをやることはないでしょう、本当に時間の無駄です。

#### 評価 40 に下げられる

これもなんでこの仕様に戻したのかがわかりません。

フレンドと遊んでレートが上がると、実力不適応なキケン度に晒されてソロで遊んだときに他のプレイヤーに迷惑がかかるからマッチメイキングが正しく機能するように全員 40 に戻る仕様にしたのかも知れません。

が、実力不適応なら何もしなくても今作が難易度が上がったこともあってレートはどんどん溶けていって勝手に下のランクに落ちるのでそこまで問題ではないかと思います。下手な人を残り三人がキャリーして勝てるほど、今作は簡単ではないです。

40 に下げられることもあり、999 に到達するには全勝したとしても 48 回バイトする必要があります。仮に全くエクストラウェーブがこなかったとしても一回七分なので六時間くらいかかる計算になります。

> 実際にはエクストラウェーブはくるし、マッチメイキングの時間はあるしでもっとかかる

で、今作はサーモンランの開催期間は 40 時間です。40 時間のうち最低限 6 時間ゲームをしないといけないってどんな仕様ですか？世の中そんなに暇な人ばかりじゃないんですよ。

これもぼくが今作を全く遊ばない理由の一つです、完全に時間泥棒。

## まとめ

スプラトゥーン 3 はまともになると思う？いいえ、ならないと思います。

願わくばこの予想が外れますように。
